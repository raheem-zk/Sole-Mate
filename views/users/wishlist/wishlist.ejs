


<%-include('../../layouts/user/header.ejs')%>
<%-include('../../layouts/user/nav_bar.ejs')%>

<div class="cart-wrap pt-5">
    <div class="container pt-5">
        <div class="row pt-5">
            <div class="col-md-12">
                <div class="main-heading mb-10">My wishlist</div>
                <div class="table-wishlist">
                    <table cellpadding="0" cellspacing="0" border="0" width="100%">
                        <thead>
                            <tr>
                                <th width="45%">Product Name</th>
                                <th width="15%">Unit Price</th>
                                <th width="15%">Stock Status</th>
                                <th width="15%"></th>
                                <th width="10%"></th>
                            </tr>
                        </thead>
                        <tbody>
                          <% if (wishlists.wishlist.length > 0) { %>
                            <% wishlists.wishlist.forEach((item, index) => { %>
                              <tr class="rowToRemove<%= item.product ? item.product.productId : item.bannerproduct.bannerId %>">
                                <td width="45%">
                                  <div class="display-flex align-center">
                                    <div class="img-product">
                                      <img src="/proImages/<%= item.product ? item.product.images[0] : item.bannerproduct.images[0] %>" alt="img" class="mCS_img_loaded">
                                    </div>
                                    <div class="name-product">
                                      <%= item.product ? item.product.name : item.bannerproduct.name %>
                                    </div>
                                  </div>
                                </td>
                                <td width="15%" class="price">â‚¹<%= item.product ? item.product.price : item.bannerproduct.price %></td>
                                <% if (item.product && item.product.stock >= 1) { %>
                                  <td width="15%"><span class="in-stock-box">In Stock</span></td>
                                  <td width="15%"><button class="round-black-btn small-btn" onclick="AddToCart('<%= item.product.productId %>')">Add to Cart</button></td>
                                <% } else if (item.bannerproduct && item.bannerproduct.stock >= 1) { %>
                                  <td width="15%"><span class="in-stock-box">In Stock</span></td>
                                  <td width="15%"><button class="round-black-btn small-btn" onclick="AddbannerToCart('<%= item.bannerproduct.bannerId %>')">Add to Cart</button></td>
                                <% } else { %>
                                  <td width="15%"><span class="in-stock-box">Out Of Stock</span></td>
                                <% } %>
                                <td width="10%" class="text-center">
                                  <% if (item.product){ %>
                                    <a class="btn trash-icon" onclick="remonWishlistItem('<%= item.product.productId %>','<%= index %>')">
                                  <% } else if (item.bannerproduct){ %>
                                    <a class="btn trash-icon" onclick="remonWishlistBannerItem('<%= item.bannerproduct.bannerId %>','<%= index %>')">
                                  <% } %>
                                    <span class="bi bi-trash"></span>
                                  </a>
                                </td>
                              </tr>
                            <% }) %>
                          <% } else { %>
                            <tr>
                              <td colspan="5">No items in the wishlist</td>
                            </tr>
                          <% } %>
                          

                              
                                
                            
                        </tbody>
                    </table>
                    
                </div>
            </div>
        </div>
    </div>
</div>


<%-include('../../layouts/user/footer.ejs')%>
